'use client'; import Header from '@/components/header'; import Footer from '@/components/footer'; import { useEffect,useState } from 'react'; import { Card } from '@/components/ui/card'; import StatusBadge from '@/components/status-badge'; export default function DB(){const [rows,setRows]=useState<any[]>([]); useEffect(()=>{(async()=>{const res=await fetch('/api/uploads'); setRows(await res.json());})()},[]); return (<main><Header/><section className='container py-10'><h1 className='text-3xl font-semibold mb-6'>My uploads</h1><div className='grid md:grid-cols-2 gap-4'>{rows.map((r:any)=>(<Card key={r.id}><div className='flex items-center justify-between'><div><div className='font-medium'>{r.file_name}</div><div className='text-sm text-ink-700'>{new Date(r.created_at).toLocaleDateString()} · €{r.total_eur.toFixed?.(2) ?? r.total_eur}</div></div><StatusBadge status={r.status}/></div></Card>))}</div></section><Footer/></main>)}
